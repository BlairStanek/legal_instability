This is the dataset and code corresponding to our paper *LLMs Provide Unstable Answers to Legal Questions*, where we quantify the instability of gpt-4o, claude-3.5, gemini-1.5, and o1 on hard legal questions.  

Our novel dataset of 500 hard legal questions resides as text files in the directory **DATASET**.  For example, the file **DATASET/21_F.3d_1508.in.txt** contains a hard legal question on which gpt-4o, claude-3.5, and gemini-1.5 sometimes return that one party wins, while othertimes returning that the other party wins. The body of the filename is the citation for the case from which the question is derived.  Thus, the just-mentioned file is derived from the case *Lanphere & Urbaniak v. State of Colorado*, 21 F.3d 1508 (10th Cir. 1994). (The text of this file is reproduced in full at the bottom of this README for convenience.)  

The actual testing of LLMs against the dataset is done by running **step2_llms_analyze.py**.  This takes in the **.in.txt** files from **DATASET** and writes results to a corresponding **.out** file.  Then, you can use **analyze.py** to get detailed statistics from the **.out** files.  **RESULTS.txt** contains text that was output by **analyze.py**.  

This repository's code could be used to generate hard legal questions beyond just our 500.  First, one must download raw case files using **download.py**, which is currently set to download from the Federal Reporter, Third (F.3d), but could be set to download from F., F.2d, or F.4d as well.  Then, run **step1_generate_summaries.py** against o1 (or another model) to generate raw .txt summaries in the DATASET directory.  Next, run **step1.5_prepare_in.py**, which does not call any LLMs, to get the raw summaries into the expected format, which ends in **.in.txt**.  

Below is an example of a prompt on which all three tested LLMs are unstable:

>You will be doing legal analysis of how you think a court should decide based on the facts below:
>
>Several individuals in Redwood Falls, Colorado, including Matthew Green and Ethan Brown, who formed the law partnership Green & Brown, and Richard Milton, who directed the Harbor Steps Recovery Program, had previously relied on certain criminal justice records to identify individuals facing charges for traffic and alcohol-related offenses. They used this information to send out direct mail advertising for professional services. The dispute arose when new legal restrictions were placed on accessing and using these particular records under a recently enacted state statute.
>
> According to court filings, the restriction barred release of names, addresses, and related information to persons intending to use those records for direct solicitations. The individuals from Green & Brown and Harbor Steps Recovery Program declined to sign the mandated statement prohibiting direct solicitation, which resulted in their being denied access to the records. They then challenged the statute, alleging that it violated their constitutional rights under the First and Fourteenth Amendments by preventing them from lawfully advertising to potential clients.
>
> Central to the underlying conflict was the question of whether there is a recognized right of public access to these kinds of criminal proceeding materials. Some positions in the dispute relied on traditions of open criminal processes in the United States, pointing out that many jurisdictions provide wide access to records used in criminal cases. Others emphasized that the records in question detailed accusations, not convictions, and that the public’s or a professional’s interest in contacting those listed must be balanced against individual privacy and the perceived risk of unwelcome solicitations. The record also reflected conflicting claims about whether the same information was obtainable from local news sources and about the significance of attorneys and treatment centers having prompt access for business-related purposes.
>
> One set of arguments insisted that no constitutional principle compels a state to disclose government-held data for direct commercial purposes. Supporters of this view referred to authorities such as Houchins v. KQED, Inc., which underscored that the Constitution does not guarantee wholesale access to all government information. They emphasized a legitimate state need to maintain privacy for individuals who have merely been charged, along with a desire to reduce potentially intrusive solicitations. They also contended that controlling record distribution helps safeguard public confidence in the criminal justice process, positing that unchecked commercial use of such information could lead to exploitation of vulnerable individuals. These arguments presented the statute as a tailored measure serving important governmental ends, pointing out that states traditionally enjoy discretion over whether or how to release official records.
>
> The other set of arguments maintained that open access to records on criminal charges has deep historical roots in the United States, as reflected by cases like Press-Enterprise Co. v. Superior Court and Globe Newspapers Co. v. Superior Court, which recognized a constitutional dimension to openness in criminal proceedings. From that vantage point, restrictions on these records were viewed as impermissibly burdening speech, particularly commercial speech that is still protected under precedents such as Shapero v. Kentucky Bar Ass’n and Zauderer v. Office of Disciplinary Counsel. Supporters of access argued that professionals like attorneys and treatment providers enhance public understanding by informing individuals of their rights and treatment options at critical junctures, thereby improving the criminal process overall. They also noted the possibility that those charged might not receive adequate counsel or needed services if such channels of communication were curtailed, undermining broader public interests in the fair administration of justice.
>
> Based on the facts above and your knowledge of the law, think step by step to figure out which party should prevail: The State of Colorado or Green, Brown, and Milton
